<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz CNTT - DALTUD2</title>
    <link rel="stylesheet" href="style.css?v=1729585600">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>

<body>
    <!-- Header -->
    <header>
        <h1>Quiz CNTT</h1>
        <nav>
            <a href="#" onclick="showPage('home')" id="homeNavLink">Trang ch·ªß</a>
            <a href="#" onclick="showPage('classes')" id="classesLink" style="display:none">Qu·∫£n l√Ω l·ªõp</a>
            <a href="#" onclick="showPage('builder')" id="builderLink" style="display:none">Th√™m c√¢u h·ªèi</a>
            <a href="#" onclick="showPage('settings')" id="settingsNavLink">C√†i ƒë·∫∑t</a>
            <a href="#" onclick="showPage('login')" id="loginLink">ƒêƒÉng nh·∫≠p</a>
            <a href="#" onclick="showPage('register')" id="registerLink">ƒêƒÉng k√Ω</a>

            <a href="#" onclick="showPage('my-classes')" id="myClassesLink" style="display:none">L·ªõp c·ªßa t√¥i</a>
            <a href="#" onclick="showPage('profile')" id="profileLink" style="display:none">Th√¥ng tin</a>
            <a href="#" onclick="logout()" id="logoutLink" style="display:none">ƒêƒÉng xu·∫•t</a>

            <!-- User Dropdown Menu -->
            <div id="userDropdown" class="user-dropdown">
                <div class="user-info-display" onclick="toggleUserMenu()">
                    <span id="userAvatar" class="user-avatar">üê±</span>
                    <span id="userDisplayName" class="user-name">User</span>
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div id="userMenu" class="user-menu">
                    <a href="#" onclick="showPage('profile')" class="menu-item">
                        <i class="fas fa-user"></i> Th√¥ng tin c√° nh√¢n
                    </a>
                    <a href="#" onclick="showPage('settings')" class="menu-item">
                        <i class="fas fa-cog"></i> C√†i ƒë·∫∑t
                    </a>
                    <a href="#" onclick="logout()" class="menu-item">
                        <i class="fas fa-sign-out-alt"></i> ƒêƒÉng xu·∫•t
                    </a>
                </div>
            </div>
        </nav>
    </header>

    <!-- Main Content -->
    <main id="main-content">
        <!-- Home Page -->
        <div id="home-page" class="page">
            <div class="home-container">
                <!-- Stats Section for Teachers -->
                <div id="teacherStats" class="stats-section" style="display:none">
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-chalkboard"></i>
                            </div>
                            <div class="stat-content">
                                <h3 id="teacherTotalClasses">0</h3>
                                <p>T·ªïng s·ªë l·ªõp</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-users"></i>
                            </div>
                            <div class="stat-content">
                                <h3 id="teacherTotalStudents">0</h3>
                                <p>T·ªïng h·ªçc sinh</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-question-circle"></i>
                            </div>
                            <div class="stat-content">
                                <h3 id="teacherTotalQuestions">0</h3>
                                <p>T·ªïng c√¢u h·ªèi</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <div class="stat-content">
                                <h3 id="teacherTotalQuizzes">0</h3>
                                <p>T·ªïng b√†i quiz</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Class Information for Students -->
                <div id="classInfo" class="class-info-section" style="display:none">
                    <div class="class-info-header">
                        <h2><i class="fas fa-book"></i> L·ªõp c·ªßa b·∫°n</h2>
                        <p>Th√¥ng tin l·ªõp h·ªçc b·∫°n ƒëang tham gia</p>
                    </div>
                    <div id="classDetails" class="class-details">
                        <p id="classStatus">ƒêang t·∫£i th√¥ng tin l·ªõp...</p>
                    </div>
                </div>

                <!-- Welcome Page for Non-logged Users -->
                <div class="welcome-page" id="welcomePage">
                    <div class="welcome-card">
                        <div class="welcome-icon">
                            <i class="fas fa-graduation-cap"></i>
                        </div>
                        <h2>Ch√†o m·ª´ng ƒë·∫øn v·ªõi Quiz CNTT</h2>
                        <p>H·ªá th·ªëng quiz tr·ª±c tuy·∫øn d√†nh cho sinh vi√™n C√¥ng ngh·ªá Th√¥ng tin</p>
                        <div class="welcome-actions">
                            <button onclick="showPage('login')" class="btn-primary btn-large">
                                <i class="fas fa-sign-in-alt"></i>
                                ƒêƒÉng nh·∫≠p
                            </button>
                            <button onclick="showPage('register')" class="btn-secondary btn-large">
                                <i class="fas fa-user-plus"></i>
                                ƒêƒÉng k√Ω
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Quiz Active Page -->
        <div id="quiz-active-page" class="page" style="display:none">
            <!-- Audio Elements -->
            <audio id="backgroundMusic" loop>
                <source src="background-music.mp3" type="audio/mpeg">
            </audio>
            <audio id="correctSound">
                <source src="correct.mp3" type="audio/mpeg">
            </audio>
            <audio id="incorrectSound">
                <source src="incorrect.mp3" type="audio/mpeg">
            </audio>

            <div class="quiz-container">
                <div class="quiz-header">
                    <div class="quiz-timer">
                        <div class="timer-item">
                            <span class="timer-label">T·ªïng th·ªùi gian:</span>
                            <span id="totalTimer" class="timer-value">30:00</span>
                        </div>
                        <div class="timer-item">
                            <span class="timer-label">C√¢u hi·ªán t·∫°i:</span>
                            <span id="questionTimer" class="timer-value">2:00</span>
                        </div>
                    </div>
                    <div class="quiz-progress">
                        <span id="questionProgress">C√¢u 1/10</span>
                        <div class="progress-bar">
                            <div id="progressFill" class="progress-fill"></div>
                        </div>
                    </div>
                    <div class="quiz-settings">
                        <button id="audioSettingsBtn" class="settings-btn" onclick="toggleAudioSettings()"
                            title="C√†i ƒë·∫∑t √¢m thanh">
                            <i class="fas fa-volume-up"></i>
                        </button>
                    </div>
                </div>

                <div class="quiz-content">
                    <div class="question-card">
                        <div class="question-header">
                            <h3 id="questionDisplay">C√¢u h·ªèi s·∫Ω hi·ªÉn th·ªã ·ªü ƒë√¢y...</h3>
                        </div>

                        <div class="question-options" id="questionOptions">
                            <!-- Options will be loaded here -->
                        </div>

                        <div class="question-actions">
                            <button id="nextQuestionBtn" class="btn-primary" onclick="nextQuestion()" disabled>
                                <i class="fas fa-arrow-right"></i> Ti·∫øp theo
                            </button>
                            <button id="submitQuizBtn" class="btn-success" onclick="finishQuiz()" style="display:none">
                                <i class="fas fa-check"></i> N·ªôp b√†i
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Waiting Room Page -->
        <div id="waiting-room-page" class="page" style="display:none">
            <div class="waiting-room-container">
                <div class="waiting-header">
                    <h2 id="waitingClassName">Ph√≤ng ch·ªù - [Class Name]</h2>
                    <div class="waiting-status" id="waitingStatus">ƒêang ch·ªù gi√°o vi√™n...</div>
                </div>

                <div class="participants-section">
                    <div class="participants-header">
                        <h3><i class="fas fa-users"></i> Danh s√°ch tham gia (<span id="participantCount">0</span>)</h3>
                        <button onclick="leaveWaitingRoom()" class="btn-secondary btn-leave">
                            <i class="fas fa-sign-out-alt"></i>
                            R·ªùi kh·ªèi l·ªõp
                        </button>
                    </div>
                    <div class="participants-list" id="participantsList">
                        <!-- Participants will be loaded here -->
                    </div>
                </div>

                <div class="quiz-info-section" id="quizInfoSection" style="display:none">
                    <h3><i class="fas fa-clipboard-list"></i> Th√¥ng tin b·ªô ƒë·ªÅ</h3>
                    <div class="quiz-info-card">
                        <div class="quiz-info-content">
                            <h4 id="quizSetDisplayName">T√™n b·ªô ƒë·ªÅ</h4>
                            <p id="quizSetDisplayDescription">M√¥ t·∫£ b·ªô ƒë·ªÅ</p>
                            <div class="quiz-stats">
                                <span><i class="fas fa-question-circle"></i> <span id="questionCount">0</span> c√¢u
                                    h·ªèi</span>
                                <span><i class="fas fa-clock"></i> <span id="timeLimit">0</span> ph√∫t</span>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>

        <!-- Join Class Modal -->
        <div id="joinClassModal" class="modal" style="display:none">
            <div class="modal-content">
                <span class="close-button" onclick="closeJoinClassModal()">&times;</span>
                <h2>Tham gia l·ªõp h·ªçc</h2>
                <div class="form-group">
                    <label for="classCodeInput">Nh·∫≠p m√£ l·ªõp:</label>
                    <input type="text" id="classCodeInput" placeholder="M√£ l·ªõp" required>
                </div>
                <button class="btn-primary" onclick="handleJoinClass()">Tham gia</button>
            </div>
        </div>

        <!-- Login Page -->
        <div id="login-page" class="page" style="display:none">
            <div class="auth-container">
                <div class="auth-card">
                    <div class="auth-header">
                        <h2><i class="fas fa-sign-in-alt"></i> ƒêƒÉng nh·∫≠p</h2>
                    </div>
                    <form id="loginForm" class="auth-form">
                        <div class="form-group">
                            <label for="loginEmail">Email:</label>
                            <input type="email" id="loginEmail" placeholder="Nh·∫≠p email c·ªßa b·∫°n" required>
                        </div>
                        <div class="form-group">
                            <label for="loginPassword">M·∫≠t kh·∫©u:</label>
                            <input type="password" id="loginPassword" placeholder="Nh·∫≠p m·∫≠t kh·∫©u" required>
                        </div>
                        <button type="submit" class="btn-primary btn-full">
                            <i class="fas fa-sign-in-alt"></i>
                            ƒêƒÉng nh·∫≠p
                        </button>
                    </form>
                    <div class="auth-footer">
                        <p>Ch∆∞a c√≥ t√†i kho·∫£n? <a href="#" onclick="showPage('register')">ƒêƒÉng k√Ω ngay</a></p>
                    </div>
                    <div id="loginError" class="error" style="display:none"></div>
                </div>
            </div>
        </div>

        <!-- Student Register Page -->
        <div id="register-page" class="page" style="display:none">
            <div class="auth-container">
                <div class="auth-card">
                    <div class="auth-header">
                        <h2><i class="fas fa-user-plus"></i> ƒêƒÉng k√Ω</h2>
                    </div>
                    <form id="registerForm" class="auth-form">
                        <div class="form-group">
                            <label for="registerEmail">Email:</label>
                            <input type="email" id="registerEmail" placeholder="Nh·∫≠p email c·ªßa b·∫°n" required>
                        </div>
                        <div class="form-group">
                            <label for="registerPassword">M·∫≠t kh·∫©u:</label>
                            <input type="password" id="registerPassword" placeholder="T·∫°o m·∫≠t kh·∫©u m·∫°nh" required>
                        </div>
                        <div class="form-group">
                            <label for="registerUsername">T√™n ng∆∞·ªùi d√πng:</label>
                            <input type="text" id="registerUsername" placeholder="T√™n ƒëƒÉng nh·∫≠p" required>
                        </div>
                        <div class="form-group">
                            <label for="registerFullName">H·ªç t√™n:</label>
                            <input type="text" id="registerFullName" placeholder="Nh·∫≠p h·ªç t√™n ƒë·∫ßy ƒë·ªß" required>
                        </div>
                        <input type="hidden" id="registerRole" value="student">
                        <button type="submit" class="btn-primary btn-full">
                            <i class="fas fa-user-plus"></i>
                            ƒêƒÉng k√Ω
                        </button>
                    </form>
                    <div class="auth-footer">
                        <p>ƒê√£ c√≥ t√†i kho·∫£n? <a href="#" onclick="showPage('login')">ƒêƒÉng nh·∫≠p ngay</a></p>
                    </div>
                    <div id="registerError" class="error" style="display:none"></div>
                </div>
            </div>
        </div>


        <!-- Settings Page -->
        <div id="settings-page" class="page" style="display:none">
            <div class="settings-container">
                <div class="settings-header">
                    <h2><i class="fas fa-cog"></i> C√†i ƒë·∫∑t</h2>
                    <p>T√πy ch·ªânh tr·∫£i nghi·ªám h·ªçc t·∫≠p c·ªßa b·∫°n</p>
                </div>
                <div class="settings-content">
                    <form id="settingsForm" class="settings-form">
                        <div class="settings-section">
                            <h3><i class="fas fa-volume-up"></i> √Çm thanh</h3>
                            <div class="setting-item">
                                <div class="setting-info">
                                    <label for="musicEnabled">Nh·∫°c n·ªÅn</label>
                                    <p>Ph√°t nh·∫°c n·ªÅn trong khi l√†m quiz</p>
                                </div>
                                <div class="setting-control">
                                    <label class="switch">
                                        <input type="checkbox" id="musicEnabled">
                                        <span class="slider"></span>
                                    </label>
                                </div>
                            </div>
                            <div class="setting-item">
                                <div class="setting-info">
                                    <label for="soundEnabled">√Çm thanh</label>
                                    <p>Ph√°t √¢m thanh th√¥ng b√°o v√† hi·ªáu ·ª©ng</p>
                                </div>
                                <div class="setting-control">
                                    <label class="switch">
                                        <input type="checkbox" id="soundEnabled">
                                        <span class="slider"></span>
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="settings-actions">
                            <button type="submit" class="btn-primary btn-full">
                                <i class="fas fa-save"></i>
                                L∆∞u c√†i ƒë·∫∑t
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- Quiz Page -->
        <div id="quiz-page" class="page" style="display:none">
            <div class="card">
                <div id="quiz-content">
                    <h2>ƒêang t·∫£i c√¢u h·ªèi...</h2>
                </div>
            </div>
        </div>

        <!-- Question Builder Page -->
        <div id="builder-page" class="page" style="display:none">
            <div class="builder-container">
                <div class="builder-header">
                    <h2><i class="fas fa-plus-circle"></i> Qu·∫£n l√Ω c√¢u h·ªèi</h2>
                    <p>T·∫°o v√† qu·∫£n l√Ω c√¢u h·ªèi cho b√†i quiz c·ªßa b·∫°n</p>
                </div>
                <div class="builder-content">
                    <div class="tabs">
                        <button class="tab-button active" onclick="switchBuilderTab('create')">T·∫°o c√¢u h·ªèi m·ªõi</button>
                        <button class="tab-button" onclick="switchBuilderTab('manage')">Danh s√°ch c√¢u h·ªèi</button>
                    </div>

                    <!-- Create Question Tab -->
                    <div id="createQuestionTab" class="tab-content active">
                        <form id="questionForm" class="builder-form">
                            <div class="form-group">
                                <label>Lo·∫°i c√¢u h·ªèi:</label>
                                <select id="questionType" onchange="toggleQuestionType()">
                                    <option value="tf">ƒê√∫ng/Sai</option>
                                    <option value="mcq">4 l·ª±a ch·ªçn</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>N·ªôi dung c√¢u h·ªèi:</label>
                                <textarea id="questionText" required></textarea>
                            </div>
                            <div class="form-group">
                                <label>Ch·ªß ƒë·ªÅ:</label>
                                <input type="text" id="questionCategory" placeholder="V√≠ d·ª•: Web, Database, Network">
                            </div>

                            <!-- True/False options -->
                            <div id="tf-options" class="form-group">
                                <label>ƒê√°p √°n:</label>
                                <select id="tfAnswer">
                                    <option value="true">ƒê√∫ng</option>
                                    <option value="false">Sai</option>
                                </select>
                            </div>

                            <!-- Multiple choice options -->
                            <div id="mcq-options" class="form-group" style="display:none">
                                <label>L·ª±a ch·ªçn A:</label>
                                <input type="text" id="optionA" placeholder="L·ª±a ch·ªçn A">
                                <label>L·ª±a ch·ªçn B:</label>
                                <input type="text" id="optionB" placeholder="L·ª±a ch·ªçn B">
                                <label>L·ª±a ch·ªçn C:</label>
                                <input type="text" id="optionC" placeholder="L·ª±a ch·ªçn C">
                                <label>L·ª±a ch·ªçn D:</label>
                                <input type="text" id="optionD" placeholder="L·ª±a ch·ªçn D">
                                <label>ƒê√°p √°n ƒë√∫ng:</label>
                                <select id="correctAnswer">
                                    <option value="0">A</option>
                                    <option value="1">B</option>
                                    <option value="2">C</option>
                                    <option value="3">D</option>
                                </select>
                            </div>

                            <div class="form-actions">
                                <button type="submit" class="btn-primary btn-full">
                                    <i class="fas fa-plus"></i>
                                    Th√™m c√¢u h·ªèi
                                </button>
                            </div>
                        </form>
                        <div id="questionError" class="error" style="display:none"></div>
                    </div>

                    <!-- Manage Questions Tab -->
                    <div id="manageQuestionsTab" class="tab-content">
                        <div class="manage-questions-header">
                            <div class="search-section">
                                <input type="text" id="builderQuestionSearch" placeholder="T√¨m ki·∫øm c√¢u h·ªèi..."
                                    onkeyup="filterBuilderQuestions()">
                                <select id="builderQuestionCategory" onchange="filterBuilderQuestions()">
                                    <option value="">T·∫•t c·∫£ ch·ªß ƒë·ªÅ</option>
                                </select>
                            </div>
                            <button class="btn-primary" onclick="refreshBuilderQuestions()">
                                <i class="fas fa-sync-alt"></i>
                                L√†m m·ªõi
                            </button>
                        </div>

                        <div class="manage-questions-list" id="builderQuestionsList">
                            <!-- Questions will be loaded here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Profile Page -->
        <div id="profile-page" class="page" style="display:none">
            <div class="card">
                <h2>Th√¥ng tin c√° nh√¢n</h2>
                <form id="profileForm">
                    <div class="form-group">
                        <label>·∫¢nh ƒë·∫°i di·ªán:</label>
                        <div class="avatar-section">
                            <div class="current-avatar">
                                <img id="currentAvatarDisplay" class="avatar-preview" src="" alt="Avatar"
                                    style="display:none;">
                                <span id="currentAvatarEmoji" class="avatar-preview">üê±</span>
                            </div>
                            <div class="avatar-upload">
                                <input type="file" id="avatarUpload" accept="image/*" style="display:none;"
                                    onchange="handleAvatarUpload(event)">
                                <button type="button" class="btn-secondary"
                                    onclick="document.getElementById('avatarUpload').click()">
                                    <i class="fas fa-upload"></i> T·∫£i ·∫£nh l√™n
                                </button>
                                <button type="button" class="btn-secondary" onclick="clearAvatar()">
                                    <i class="fas fa-times"></i> X√≥a ·∫£nh
                                </button>
                            </div>
                            <div class="avatar-options">
                                <p>Ho·∫∑c ch·ªçn emoji:</p>
                                <button type="button" class="avatar-btn" onclick="selectAvatar('üê±')">üê±</button>
                                <button type="button" class="avatar-btn" onclick="selectAvatar('üê∂')">üê∂</button>
                                <button type="button" class="avatar-btn" onclick="selectAvatar('üê∞')">üê∞</button>
                                <button type="button" class="avatar-btn" onclick="selectAvatar('üê∏')">üê∏</button>
                                <button type="button" class="avatar-btn" onclick="selectAvatar('üêØ')">üêØ</button>
                                <button type="button" class="avatar-btn" onclick="selectAvatar('üê®')">üê®</button>
                                <button type="button" class="avatar-btn" onclick="selectAvatar('ü¶ä')">ü¶ä</button>
                                <button type="button" class="avatar-btn" onclick="selectAvatar('üêª')">üêª</button>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>T√™n ng∆∞·ªùi d√πng:</label>
                        <input type="text" id="profileUsername" disabled>
                    </div>
                    <div class="form-group">
                        <label>H·ªç t√™n:</label>
                        <input type="text" id="profileFullName" required>
                    </div>
                    <div class="form-group">
                        <label>Email:</label>
                        <input type="email" id="profileEmail" disabled>
                    </div>
                    <div class="form-group">
                        <label>Vai tr√≤:</label>
                        <input type="text" id="profileRole" disabled>
                    </div>
                    <button type="submit" class="btn-primary">C·∫≠p nh·∫≠t</button>
                </form>
                <div id="profileError" class="error" style="display:none"></div>
            </div>
        </div>

        <!-- Classes Management Page (Teacher) -->
        <div id="classes-page" class="page" style="display:none">
            <div class="classes-container">
                <!-- Header Section -->
                <div class="classes-header">
                    <div class="classes-title-section">
                        <h2><i class="fas fa-chalkboard-teacher"></i> Qu·∫£n l√Ω l·ªõp h·ªçc</h2>
                        <p>T·∫°o v√† qu·∫£n l√Ω c√°c l·ªõp h·ªçc c·ªßa b·∫°n</p>
                    </div>
                    <button onclick="showCreateClassModal()" class="btn-create-class">
                        <i class="fas fa-plus"></i>
                        T·∫°o l·ªõp m·ªõi
                    </button>
                </div>

                <!-- Stats Cards -->
                <div class="classes-stats">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-chalkboard"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="totalClasses">0</h3>
                            <p>T·ªïng s·ªë l·ªõp</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="totalStudents">0</h3>
                            <p>T·ªïng h·ªçc sinh</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-question-circle"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="totalQuestions">0</h3>
                            <p>T·ªïng c√¢u h·ªèi</p>
                        </div>
                    </div>
                </div>

                <!-- Classes List -->
                <div class="classes-content">
                    <div class="classes-list-header">
                        <h3>Danh s√°ch l·ªõp h·ªçc</h3>
                        <div class="classes-actions">
                            <button onclick="refreshClasses()" class="btn-refresh">
                                <i class="fas fa-sync-alt"></i>
                                L√†m m·ªõi
                            </button>
                        </div>
                    </div>

                    <div id="classesList" class="classes-list">
                        <!-- Classes will be loaded here -->
                        <div class="empty-state">
                            <i class="fas fa-chalkboard"></i>
                            <h3>Ch∆∞a c√≥ l·ªõp h·ªçc n√†o</h3>
                            <p>H√£y t·∫°o l·ªõp h·ªçc ƒë·∫ßu ti√™n c·ªßa b·∫°n</p>
                            <button onclick="showCreateClassModal()" class="btn-primary">
                                <i class="fas fa-plus"></i>
                                T·∫°o l·ªõp m·ªõi
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Join Class Page (Student) -->
        <div id="join-class-page" class="page" style="display:none">
            <div class="card">
                <h2>Tham gia l·ªõp h·ªçc</h2>
                <form id="joinClassForm">
                    <div class="form-group">
                        <label>M√£ l·ªõp h·ªçc:</label>
                        <input type="text" id="classCode" placeholder="Nh·∫≠p m√£ l·ªõp 6 k√Ω t·ª±" maxlength="6" required>
                    </div>
                    <button type="submit" class="btn-primary">Tham gia l·ªõp</button>
                </form>
                <div id="joinClassError" class="error" style="display:none"></div>
            </div>
        </div>

        <!-- My Classes Page (Student) -->
        <div id="my-classes-page" class="page" style="display:none">
            <div class="card">
                <h2>L·ªõp h·ªçc c·ªßa t√¥i</h2>
                <div id="myClassesList" class="classes-list">
                    <!-- Student's classes will be loaded here -->
                </div>
            </div>
        </div>

        <!-- Class Detail Page -->
        <div id="class-detail-page" class="page" style="display:none">
            <div class="card">
                <h2 id="classDetailTitle">Chi ti·∫øt l·ªõp h·ªçc</h2>
                <div id="classInfo">
                    <!-- Class info will be loaded here -->
                </div>
                <div id="quizSetsList" class="quiz-sets-list">
                    <!-- Quiz sets will be loaded here -->
                </div>
            </div>
        </div>

        <!-- Quiz Set Builder Page (Teacher) -->
        <div id="quiz-sets-page" class="page" style="display:none">
            <div class="card">
                <h2>T·∫°o b·ªô ƒë·ªÅ thi</h2>
                <form id="quizSetForm">
                    <div class="form-group">
                        <label>Ch·ªçn l·ªõp:</label>
                        <select id="quizSetClass" required>
                            <option value="">-- Ch·ªçn l·ªõp --</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>T√™n b·ªô ƒë·ªÅ:</label>
                        <input type="text" id="quizSetTitle" required>
                    </div>
                    <div class="form-group">
                        <label>M√¥ t·∫£:</label>
                        <textarea id="quizSetDescriptionOld"></textarea>
                    </div>
                    <div class="form-group">
                        <label>Ch·ªçn c√¢u h·ªèi:</label>
                        <div id="questionsChecklist" class="questions-checklist">
                            <!-- Questions will be loaded here -->
                        </div>
                    </div>
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="quizSetActive"> K√≠ch ho·∫°t b·ªô ƒë·ªÅ (hi·ªÉn th·ªã cho h·ªçc sinh)
                        </label>
                    </div>
                    <button type="submit" class="btn-primary">T·∫°o b·ªô ƒë·ªÅ</button>
                </form>
                <div id="quizSetError" class="error" style="display:none"></div>
            </div>
        </div>

        <!-- Waiting Room Page -->
        <div id="waiting-room-page" class="page" style="display:none">
            <div class="card">
                <h2>Ph√≤ng ch·ªù</h2>
                <div id="waitingRoomContent">
                    <div class="waiting-info">
                        <p>ƒêang ch·ªù gi√°o vi√™n b·∫Øt ƒë·∫ßu b√†i thi...</p>
                        <div id="participantsList" class="participants-list">
                            <!-- Participants will be loaded here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Session Control Page (Teacher) -->
        <div id="session-control-page" class="page" style="display:none">
            <div class="card">
                <h2>ƒêi·ªÅu khi·ªÉn phi√™n thi</h2>
                <div id="sessionInfo">
                    <!-- Session info will be loaded here -->
                </div>
                <div id="participantsControl" class="participants-control">
                    <!-- Participants control will be loaded here -->
                </div>
                <div id="sessionActions">
                    <button id="startSessionBtn" onclick="startQuizSession()" class="btn-primary" disabled>B·∫Øt ƒë·∫ßu b√†i
                        thi</button>
                    <button id="endSessionBtn" onclick="endQuizSession()" class="btn-secondary" style="display:none">K·∫øt
                        th√∫c phi√™n</button>
                </div>
            </div>
        </div>

        <!-- Live Quiz Page -->
        <div id="live-quiz-page" class="page" style="display:none">
            <div class="card">
                <div id="liveQuizContent">
                    <!-- Live quiz content will be loaded here -->
                </div>
            </div>
        </div>

        <!-- Results Page -->
        <div id="results-page" class="page" style="display:none">
            <div class="card">
                <h2>K·∫øt qu·∫£ b√†i thi</h2>
                <div id="resultsContent">
                    <!-- Results will be loaded here -->
                </div>
            </div>
        </div>
    </main>


    <!-- Share Class Code Modal -->
    <div id="shareClassModal" class="modal" style="display:none">
        <div class="modal-content share-code-modal">
            <div class="modal-header">
                <div class="modal-icon">
                    <i class="fas fa-share-alt"></i>
                </div>
                <h2>Chia s·∫ª m√£ l·ªõp</h2>
                <span class="modal-close" onclick="closeShareClassModal()">&times;</span>
            </div>
            <div class="modal-body">
                <div class="share-code-content">
                    <div class="code-section">
                        <label class="code-label">
                            <i class="fas fa-key"></i>
                            M√£ l·ªõp h·ªçc
                        </label>
                        <div class="code-display">
                            <div class="code-value">
                                <span id="shareClassCode"></span>
                            </div>
                            <button onclick="copyClassCode()" class="btn-copy">
                                <i class="fas fa-copy"></i>
                                Sao ch√©p
                            </button>
                        </div>
                    </div>
                    <div class="instruction-section">
                        <div class="instruction-icon">
                            <i class="fas fa-info-circle"></i>
                        </div>
                        <p class="instruction-text">
                            Chia s·∫ª m√£ n√†y cho h·ªçc sinh ƒë·ªÉ h·ªç c√≥ th·ªÉ tham gia l·ªõp h·ªçc c·ªßa b·∫°n
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Edit Class Modal -->
    <div id="editClassModal" class="modal" style="display:none">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-icon">
                    <i class="fas fa-edit"></i>
                </div>
                <h2>Ch·ªânh s·ª≠a l·ªõp h·ªçc</h2>
                <span class="modal-close" onclick="closeEditClassModal()">&times;</span>
            </div>
            <div class="modal-body">
                <form id="editClassForm" class="modal-form">
                    <input type="hidden" id="editClassId">
                    <div class="form-group">
                        <label for="editClassName">
                            <i class="fas fa-chalkboard"></i>
                            T√™n l·ªõp h·ªçc
                        </label>
                        <input type="text" id="editClassName" placeholder="V√≠ d·ª•: L·ªõp CNTT K15A" required>
                        <small class="form-hint">T√™n l·ªõp s·∫Ω hi·ªÉn th·ªã cho h·ªçc sinh</small>
                    </div>
                    <div class="form-group">
                        <label for="editClassDescription">
                            <i class="fas fa-info-circle"></i>
                            M√¥ t·∫£ l·ªõp h·ªçc
                        </label>
                        <textarea id="editClassDescription"
                            placeholder="M√¥ t·∫£ v·ªÅ m√¥n h·ªçc, n·ªôi dung, y√™u c·∫ßu..."></textarea>
                        <small class="form-hint">M√¥ t·∫£ gi√∫p h·ªçc sinh hi·ªÉu r√µ v·ªÅ l·ªõp h·ªçc</small>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn-secondary" onclick="closeEditClassModal()">
                            <i class="fas fa-times"></i>
                            H·ªßy
                        </button>
                        <button type="submit" class="btn-primary">
                            <i class="fas fa-save"></i>
                            L∆∞u thay ƒë·ªïi
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Class Settings Modal -->
    <div id="classSettingsModal" class="modal large-modal" style="display:none">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-icon">
                    <i class="fas fa-cog"></i>
                </div>
                <h2>C√†i ƒë·∫∑t l·ªõp h·ªçc</h2>
                <span class="modal-close" onclick="closeClassSettingsModal()">&times;</span>
            </div>
            <div class="modal-body">
                <div class="class-settings-content">
                    <!-- Class Info Section -->
                    <div class="settings-section">
                        <h3><i class="fas fa-info-circle"></i> Th√¥ng tin l·ªõp h·ªçc</h3>
                        <div class="class-info-display">
                            <div class="info-item">
                                <span class="info-label">T√™n l·ªõp:</span>
                                <span id="settingsClassName" class="info-value"></span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">M√£ l·ªõp:</span>
                                <span id="settingsClassCode" class="info-value code"></span>
                                <button onclick="copyClassCodeFromSettings()" class="btn-copy-small">
                                    <i class="fas fa-copy"></i>
                                </button>
                            </div>
                            <div class="info-item">
                                <span class="info-label">S·ªë h·ªçc sinh:</span>
                                <span id="settingsStudentCount" class="info-value"></span>
                            </div>
                        </div>
                    </div>

                    <!-- Students List Section -->
                    <div class="settings-section">
                        <h3><i class="fas fa-users"></i> Danh s√°ch h·ªçc sinh</h3>
                        <div class="students-list-container">
                            <div id="studentsList" class="students-list">
                                <!-- Students will be loaded here -->
                            </div>
                        </div>
                    </div>


                    <!-- Quiz Sets Management Section -->
                    <div class="settings-section quiz-sets-section">
                        <div class="quiz-sets-header modern-header">
                            <div class="header-content">
                                <div class="header-icon">
                                    <i class="fas fa-clipboard-list"></i>
                                </div>
                                <div class="header-text">
                                    <h3>Qu·∫£n l√Ω b·ªô ƒë·ªÅ</h3>
                                    <p>Qu·∫£n l√Ω v√† t·ªï ch·ª©c c√°c b·ªô ƒë·ªÅ ki·ªÉm tra</p>
                                </div>
                            </div>
                            <button class="btn-create-quizset modern-btn"
                                onclick="showCreateQuizSetModal(window.currentClassId)">
                                <i class="fas fa-plus"></i>
                                <span>T·∫°o b·ªô ƒë·ªÅ m·ªõi</span>
                            </button>
                        </div>
                        <div class="quiz-sets-grid" id="classSettingsQuizSetsList">
                            <!-- Quiz sets will be loaded here -->
                        </div>
                    </div>

                    <!-- Quiz Selection Section -->
                    <div class="settings-section quiz-selection-section">
                        <div class="quiz-selection-form">
                            <div class="quiz-dropdown-section">
                                <label for="selectedQuizSet" class="quiz-dropdown-label">
                                    <i class="fas fa-clipboard-list"></i>
                                    Ch·ªçn b·ªô ƒë·ªÅ
                                </label>
                                <select id="selectedQuizSet" onchange="onQuizSetSelected()" class="quiz-dropdown">
                                    <option value="">-- Ch·ªçn b·ªô ƒë·ªÅ --</option>
                                </select>
                            </div>

                            <div id="quizSetInfo" class="quiz-info-section" style="display:none">
                                <div class="quiz-info-cards">
                                    <div class="quiz-info-card">
                                        <div class="quiz-info-icon">
                                            <i class="fas fa-question-circle"></i>
                                        </div>
                                        <div class="quiz-info-details">
                                            <span class="quiz-info-label">C√¢u h·ªèi</span>
                                            <span id="selectedQuestionCount" class="quiz-info-value">0</span>
                                        </div>
                                    </div>

                                    <div class="quiz-info-card">
                                        <div class="quiz-info-icon">
                                            <i class="fas fa-clock"></i>
                                        </div>
                                        <div class="quiz-info-details">
                                            <span class="quiz-info-label">Th·ªùi gian t·ªïng</span>
                                            <div class="quiz-time-input">
                                                <input type="number" id="totalTimeMinutes" min="1" max="120" value="30"
                                                    class="time-input">
                                                <span class="time-unit">ph√∫t</span>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="quiz-info-card">
                                        <div class="quiz-info-icon">
                                            <i class="fas fa-stopwatch"></i>
                                        </div>
                                        <div class="quiz-info-details">
                                            <span class="quiz-info-label">Th·ªùi gian m·ªói c√¢u</span>
                                            <div class="quiz-time-input">
                                                <input type="number" id="timePerQuestionSeconds" min="10" max="600"
                                                    value="120" class="time-input">
                                                <span class="time-unit">gi√¢y</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="quiz-action-section">
                                <button id="startQuizBtn" class="quiz-start-btn" onclick="startQuizWithSet()" disabled>
                                    <i class="fas fa-play"></i>
                                    <span>B·∫Øt ƒë·∫ßu l√†m b√†i</span>
                                </button>
                                <button id="stopQuizBtn" class="quiz-stop-btn" onclick="stopQuiz()"
                                    style="display:none">
                                    <i class="fas fa-stop"></i>
                                    <span>D·ª´ng b√†i thi</span>
                                </button>
                            </div>

                            <div id="quizStatus" class="quiz-status-section">
                                <div class="quiz-status-content">
                                    <i class="fas fa-info-circle"></i>
                                    <span id="quizStatusText">Ch∆∞a c√≥ b√†i thi n√†o</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button type="button" class="btn-secondary" onclick="closeClassSettingsModal()">
                            <i class="fas fa-times"></i>
                            ƒê√≥ng
                        </button>
                        <button type="button" class="btn-primary" onclick="saveClassSettings()">
                            <i class="fas fa-save"></i>
                            L∆∞u c√†i ƒë·∫∑t
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Create Class Modal -->
    <div id="createClassModal" class="modal" style="display:none">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-chalkboard-teacher"></i> T·∫°o l·ªõp h·ªçc m·ªõi</h3>
                <button id="closeCreateClassModal" class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <p class="modal-description">T·∫°o l·ªõp h·ªçc m·ªõi ƒë·ªÉ qu·∫£n l√Ω h·ªçc sinh v√† b·ªô ƒë·ªÅ quiz</p>
                <form id="createClassForm" class="modal-form">
                    <div class="form-group">
                        <label for="className">
                            <i class="fas fa-tag"></i>
                            T√™n l·ªõp h·ªçc
                        </label>
                        <input type="text" id="className" placeholder="V√≠ d·ª•: L·ªõp CNTT K15A" required>
                        <small class="form-hint">T√™n l·ªõp s·∫Ω hi·ªÉn th·ªã cho h·ªçc sinh</small>
                    </div>
                    <div class="form-group">
                        <label for="classDescription">
                            <i class="fas fa-info-circle"></i>
                            M√¥ t·∫£ l·ªõp h·ªçc
                        </label>
                        <textarea id="classDescription" placeholder="M√¥ t·∫£ v·ªÅ m√¥n h·ªçc, n·ªôi dung, y√™u c·∫ßu..."></textarea>
                        <small class="form-hint">M√¥ t·∫£ gi√∫p h·ªçc sinh hi·ªÉu r√µ v·ªÅ l·ªõp h·ªçc</small>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn-secondary" onclick="closeCreateClassModal()">
                            <i class="fas fa-times"></i>
                            H·ªßy
                        </button>
                        <button type="submit" class="btn-primary">
                            <i class="fas fa-plus"></i>
                            T·∫°o l·ªõp h·ªçc
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Create Quiz Set Modal -->
    <div id="createQuizSetModal" class="modal" style="display:none">
        <div class="modal-content modern-modal">
            <div class="modal-header modern-header">
                <div class="header-content">
                    <div class="header-icon">
                        <i class="fas fa-plus-circle"></i>
                    </div>
                    <div class="header-text">
                        <h3>T·∫°o b·ªô ƒë·ªÅ m·ªõi</h3>
                        <p>T·∫°o b·ªô ƒë·ªÅ quiz ƒë·ªÉ h·ªçc sinh l√†m b√†i ki·ªÉm tra</p>
                    </div>
                </div>
                <button id="closeCreateQuizSetModal" class="modal-close modern-close">&times;</button>
            </div>
            <div class="modal-body modern-body">
                <form id="createQuizSetForm" class="modern-form">
                    <input type="hidden" id="quizSetClassId">

                    <!-- Basic Info Section -->
                    <div class="form-section">
                        <div class="section-header">
                            <i class="fas fa-info-circle"></i>
                            <h4>Th√¥ng tin c∆° b·∫£n</h4>
                        </div>
                        <div class="info-cards">
                            <div class="info-card">
                                <div class="info-card-header">
                                    <div class="info-icon">
                                        <i class="fas fa-tag"></i>
                                    </div>
                                    <div class="info-title">
                                        <h5>T√™n b·ªô ƒë·ªÅ</h5>
                                        <p>T√™n b·ªô ƒë·ªÅ s·∫Ω hi·ªÉn th·ªã cho h·ªçc sinh</p>
                                    </div>
                                </div>
                                <div class="info-card-content">
                                    <input type="text" id="quizSetName" class="modern-input"
                                        placeholder="V√≠ d·ª•: Ki·ªÉm tra gi·ªØa k·ª≥ - Ch∆∞∆°ng 1" required>
                                </div>
                            </div>

                            <div class="info-card">
                                <div class="info-card-header">
                                    <div class="info-icon">
                                        <i class="fas fa-align-left"></i>
                                    </div>
                                    <div class="info-title">
                                        <h5>M√¥ t·∫£ b·ªô ƒë·ªÅ</h5>
                                        <p>M√¥ t·∫£ gi√∫p h·ªçc sinh hi·ªÉu r√µ v·ªÅ b·ªô ƒë·ªÅ</p>
                                    </div>
                                </div>
                                <div class="info-card-content">
                                    <textarea id="quizSetDescription" class="modern-textarea"
                                        placeholder="M√¥ t·∫£ v·ªÅ n·ªôi dung, th·ªùi gian, y√™u c·∫ßu..."></textarea>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Question Mode Section -->
                    <div class="form-section">
                        <div class="section-header">
                            <i class="fas fa-cogs"></i>
                            <h4>Ch·∫ø ƒë·ªô c√¢u h·ªèi</h4>
                        </div>
                        <div class="mode-selector">
                            <div class="mode-option" data-mode="manual">
                                <input type="radio" name="questionMode" value="manual" id="modeManual" checked
                                    onchange="toggleQuestionMode()">
                                <label for="modeManual" class="mode-card">
                                    <div class="mode-icon">
                                        <i class="fas fa-hand-pointer"></i>
                                    </div>
                                    <div class="mode-content">
                                        <h5>Ch·ªçn th·ªß c√¥ng</h5>
                                        <p>T·ª± ch·ªçn c√¢u h·ªèi c·ª• th·ªÉ cho b·ªô ƒë·ªÅ</p>
                                        <div class="mode-badge">Linh ho·∫°t</div>
                                    </div>
                                </label>
                            </div>
                            <div class="mode-option" data-mode="random">
                                <input type="radio" name="questionMode" value="random" id="modeRandom"
                                    onchange="toggleQuestionMode()">
                                <label for="modeRandom" class="mode-card">
                                    <div class="mode-icon">
                                        <i class="fas fa-dice"></i>
                                    </div>
                                    <div class="mode-content">
                                        <h5>Ch·ªçn ng·∫´u nhi√™n</h5>
                                        <p>T·ª± ƒë·ªông ch·ªçn c√¢u h·ªèi ng·∫´u nhi√™n t·ª´ danh s√°ch</p>
                                        <div class="mode-badge">Nhanh ch√≥ng</div>
                                    </div>
                                </label>
                            </div>
                        </div>
                    </div>

                    <!-- Random Settings Section -->
                    <div id="randomSettings" class="form-section" style="display:none">
                        <div class="section-header">
                            <i class="fas fa-sliders-h"></i>
                            <h4>C√†i ƒë·∫∑t ng·∫´u nhi√™n</h4>
                        </div>
                        <div class="settings-cards">
                            <div class="settings-card">
                                <div class="settings-card-header">
                                    <div class="settings-icon">
                                        <i class="fas fa-hashtag"></i>
                                    </div>
                                    <div class="settings-title">
                                        <h5>S·ªë c√¢u h·ªèi</h5>
                                        <p>S·ªë c√¢u h·ªèi s·∫Ω ƒë∆∞·ª£c ch·ªçn ng·∫´u nhi√™n t·ª´ t·∫•t c·∫£ c√¢u h·ªèi c√≥ s·∫µn</p>
                                    </div>
                                </div>
                                <div class="settings-card-content">
                                    <div class="input-with-button">
                                        <input type="number" id="randomQuestionCount" class="modern-input" min="1"
                                            max="50" value="10" placeholder="Nh·∫≠p s·ªë c√¢u h·ªèi">
                                        <button type="button" class="input-btn" onclick="updateRandomCount()">
                                            <i class="fas fa-sync"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Action Buttons -->
                    <div class="form-actions modern-actions">
                        <button type="button" class="btn-modern btn-cancel" onclick="closeCreateQuizSetModal()">
                            <i class="fas fa-times"></i>
                            <span>H·ªßy</span>
                        </button>
                        <button type="submit" class="btn-modern btn-primary">
                            <i class="fas fa-plus"></i>
                            <span>T·∫°o b·ªô ƒë·ªÅ</span>
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Add Questions to Quiz Set Modal -->
    <div id="addQuestionsModal" class="modal" style="display:none">
        <div class="modal-content large-modal">
            <div class="modal-header">
                <h3><i class="fas fa-question-circle"></i> Th√™m c√¢u h·ªèi v√†o b·ªô ƒë·ªÅ</h3>
                <button id="closeAddQuestionsModal" class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="tabs">
                    <button class="tab-button active" onclick="switchTab('existing')">C√¢u h·ªèi c√≥ s·∫µn</button>
                    <button class="tab-button" onclick="switchTab('random')">Ch·ªçn ng·∫´u nhi√™n</button>
                </div>

                <!-- Existing Questions Tab -->
                <div id="existingQuestionsTab" class="tab-content active">
                    <div class="search-section">
                        <input type="text" id="questionSearch" placeholder="T√¨m ki·∫øm c√¢u h·ªèi..."
                            onkeyup="filterQuestions()">
                        <select id="categoryFilter" onchange="filterQuestions()">
                            <option value="">T·∫•t c·∫£ ch·ªß ƒë·ªÅ</option>
                        </select>
                    </div>
                    <div id="questionsList" class="questions-list">
                        <!-- Questions will be loaded here -->
                    </div>
                    <div class="modal-actions">
                        <button type="button" class="btn-secondary" onclick="closeAddQuestionsModal()">H·ªßy</button>
                        <button type="button" class="btn-primary" onclick="addSelectedQuestions()">
                            <i class="fas fa-plus"></i> Th√™m c√¢u h·ªèi ƒë√£ ch·ªçn
                        </button>
                    </div>
                </div>

                <!-- Random Questions Tab -->
                <div id="randomQuestionsTab" class="tab-content">
                    <div class="random-settings">
                        <div class="form-group">
                            <label for="randomCount">
                                <i class="fas fa-dice"></i>
                                S·ªë c√¢u h·ªèi ng·∫´u nhi√™n
                            </label>
                            <input type="number" id="randomCount" min="1" max="50" value="5"
                                placeholder="Nh·∫≠p s·ªë c√¢u h·ªèi">
                            <small class="form-hint">S·ªë c√¢u h·ªèi s·∫Ω ƒë∆∞·ª£c ch·ªçn ng·∫´u nhi√™n t·ª´ t·∫•t c·∫£ c√¢u h·ªèi c√≥ s·∫µn</small>
                        </div>

                        <div class="form-group">
                            <label for="randomCategory">
                                <i class="fas fa-filter"></i>
                                L·ªçc theo ch·ªß ƒë·ªÅ (t√πy ch·ªçn)
                            </label>
                            <select id="randomCategory">
                                <option value="">T·∫•t c·∫£ ch·ªß ƒë·ªÅ</option>
                            </select>
                            <small class="form-hint">ƒê·ªÉ tr·ªëng ƒë·ªÉ ch·ªçn t·ª´ t·∫•t c·∫£ c√¢u h·ªèi</small>
                        </div>

                        <div class="random-preview" id="randomPreview" style="display:none">
                            <h4><i class="fas fa-eye"></i> Xem tr∆∞·ªõc c√¢u h·ªèi s·∫Ω ƒë∆∞·ª£c ch·ªçn:</h4>
                            <div id="previewQuestions" class="preview-questions">
                                <!-- Preview questions will be shown here -->
                            </div>
                        </div>
                    </div>

                    <div class="modal-actions">
                        <button type="button" class="btn-secondary" onclick="closeAddQuestionsModal()">H·ªßy</button>
                        <button type="button" class="btn-secondary" onclick="previewRandomQuestions()">
                            <i class="fas fa-eye"></i> Xem tr∆∞·ªõc
                        </button>
                        <button type="button" class="btn-primary" onclick="addRandomQuestions()">
                            <i class="fas fa-dice"></i> Th√™m c√¢u h·ªèi ng·∫´u nhi√™n
                        </button>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <!-- Audio Settings Modal -->
    <div id="audioSettingsModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-volume-up"></i> C√†i ƒë·∫∑t √¢m thanh</h3>
                <button class="modal-close" onclick="closeAudioSettings()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="audio-settings">
                    <div class="audio-setting-item">
                        <div class="setting-info">
                            <h4><i class="fas fa-music"></i> Nh·∫°c n·ªÅn</h4>
                            <p>Nh·∫°c n·ªÅn khi l√†m b√†i thi</p>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="backgroundMusicToggle">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>

                    <div class="audio-setting-item">
                        <div class="setting-info">
                            <h4><i class="fas fa-check-circle"></i> √Çm thanh ƒë√∫ng</h4>
                            <p>√Çm thanh khi ch·ªçn ƒë√°p √°n ƒë√∫ng</p>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="correctSoundToggle">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>

                    <div class="audio-setting-item">
                        <div class="setting-info">
                            <h4><i class="fas fa-times-circle"></i> √Çm thanh sai</h4>
                            <p>√Çm thanh khi ch·ªçn ƒë√°p √°n sai</p>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="incorrectSoundToggle">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                </div>
            </div>
            <div class="modal-actions">
                <button type="button" class="btn-primary" onclick="closeAudioSettings()">
                    <i class="fas fa-check"></i> ƒê√≥ng
                </button>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <p>&copy; 2025 DALTUD2 - ·ª®ng d·ª•ng Quiz CNTT</p>
    </footer>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="app.js"></script>
</body>

</html>